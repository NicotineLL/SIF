/*===================================
Name: Social Image Feed JQuery Plugin
=====================================
Description: Get an image feed from various social networks and art galleries 
=====================================
Author: DemirevDesign
=====================================
License: http://mit-license.org/
=====================================
Version: 1.6
===================================*/

!function(e){SIFO=function(e,a){this.create(e,a)},e.extend(SIFO.prototype,{create:function(a,r){this.defaults={instagramID:"",instagramHook:"instagram-feed",tumblrID:"",tumblrHook:"tumblr-feed",weheartitID:"",weheartitHook:"weheartit-feed",pinterestID:"",pinterestHook:"pinterest-feed",flickrID:"",flickrHook:"flickr-feed",deviantartID:"",deviantartHook:"deviantart-feed",dribbbleID:"",dribbbleHook:"dribbble-feed",behanceID:"",behanceHook:"behance-feed",noThumb:"",newWindow:!0,numResults:8};var t=e.extend(!0,this.defaults,r);if(t.newWindow)var i="_blank";else var i="_self";if(""==!t.instagramID){var s="//api.instagram.com/v1/users/self/media/recent/?access_token="+t.instagramID;e("#"+t.instagramHook).append('<ul id="'+t.instagramHook+'-stream"></ul>'),jQuery.ajax({url:s,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.data,e.each(r,function(r,s){if(r<t.numResults)var o=s.link,n=s.images.low_resolution.url,l='href="'+o+'"',c='<li class="feed-image-wrapper"><a '+l+' target="'+i+'"><div class="feed-image" style="background-image: url('+n+')"></div></a></li>';e("#"+t.instagramHook+"-stream",a).append(c)})},complete:function(e){}})}if(""==!t.tumblrID){var o="http://"+t.tumblrID+"/rss",s="//query.yahooapis.com/v1/public/yql?q=select%20*%20from%20rss%20where%20url%3D%22"+encodeURIComponent(o)+"%22%20limit%20"+t.numResults+"&format=json&callback=?";e("#"+t.tumblrHook).append('<ul id="'+t.tumblrHook+'-stream"></ul>'),jQuery.ajax({url:s,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.query.results.item,e.each(r,function(r,s){if(r<t.numResults){var o=s.link,n=e(e.parseHTML(s.description)),l=e(n).attr("src"),c=n[0].tagName;if("IFRAME"==c)var l=t.noThumb;if(!l){var u=e(n).find("img").length;if(u>=1)var l=e("img",n).attr("src");else var l=t.noThumb}var m='href="'+o+'"',d='<li class="feed-image-wrapper"><a '+m+' target="'+i+'"><div class="feed-image" style="background-image: url('+l+')"></div></a></li>'}e("#"+t.tumblrHook+"-stream",a).append(d)})},complete:function(){}})}if(""==!t.weheartitID){var o="http://weheartit.com/"+t.weheartitID+".rss",s="//query.yahooapis.com/v1/public/yql?q=select%20*%20from%20rss%20where%20url%3D%22"+encodeURIComponent(o)+"%22%20limit%20"+t.numResults+"&format=json&callback=?";e("#"+t.weheartitHook).append('<ul id="'+t.weheartitHook+'-stream"></ul>'),jQuery.ajax({url:s,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.query.results.item,e.each(r,function(r,s){if(r<t.numResults){var o=s.link,n=e(e.parseHTML(s.description)),l=e(n).attr("src");l&&(l=l.replace("large","superthumb")),l||(l=t.noThumb);var c='href="'+o+'"',u='<li class="feed-image-wrapper"><a '+c+' target="'+i+'"><div class="feed-image" style="background-image: url('+l+')"></div></a></li>'}e("#"+t.weheartitHook+"-stream",a).append(u)})},complete:function(e){}})}if(""==!t.pinterestID){var o="http://www.pinterest.com/"+t.pinterestID+"/feed.rss",s="//query.yahooapis.com/v1/public/yql?q=select%20*%20from%20rss%20where%20url%3D%22"+encodeURIComponent(o)+"%22%20limit%20"+t.numResults+"&format=json&callback=?";e("#"+t.pinterestHook).append('<ul id="'+t.pinterestHook+'-stream"></ul>'),jQuery.ajax({url:s,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.query.results.item,e.each(r,function(r,s){if(r<t.numResults)var o=s.link,n=e(e.parseHTML(s.description)),l=e("img",n).attr("src"),c='href="'+o+'"',u='<li class="feed-image-wrapper"><a '+c+' target="'+i+'"><div class="feed-image" style="background-image: url('+l+')"></div></a></li>';e("#"+t.pinterestHook+"-stream",a).append(u)})},complete:function(e){}})}if(""==!t.flickrID){var s="//api.flickr.com/services/feeds/photos_public.gne?id="+t.flickrID+"&format=json&jsoncallback=?";e("#"+t.flickrHook).append('<ul id="'+t.flickrHook+'-stream"></ul>'),jQuery.ajax({url:s,cache:!0,dataType:"json",error:"There is an AJAX error, revisit code.",success:function(r){r=r.items,e.each(r,function(r,s){if(r<t.numResults)var o=s.link,n=(e(e.parseHTML(s.content)),s.media.m),l='href="'+o+'"',c='<li class="feed-image-wrapper"><a '+l+' target="'+i+'"><div class="feed-image" style="background-image: url('+n+')"></div></a></li>';e("#"+t.flickrHook+"-stream",a).append(c)})},complete:function(e){}})}if(""==!t.deviantartID){var o="http://backend.deviantart.com/rss.xml?q=gallery%3A"+t.deviantartID,s="//query.yahooapis.com/v1/public/yql?q=select%20*%20from%20rss%20where%20url%3D%22"+encodeURIComponent(o)+"%22%20limit%20"+t.numResults+"&format=json&callback=?";e("#"+t.deviantartHook).append('<ul id="'+t.deviantartHook+'-stream"></ul>'),jQuery.ajax({url:s,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.query.results.item,e.each(r,function(r,s){if(r<t.numResults){var o=s.link,n=(e(e.parseHTML(s.description)),s.thumbnail);if(n)var l="'"+s.thumbnail[1].url+"'";else var l=t.noThumb;var c='href="'+o+'"',u='<li class="feed-image-wrapper"><a '+c+' target="'+i+'"><div class="feed-image" style="background-image: url('+l+')"></div></a></li>'}e("#"+t.deviantartHook+"-stream",a).append(u)})},complete:function(){}})}if(""==!t.behanceID){var o="https://www.behance.net/"+t.behanceID+".xml",s="//query.yahooapis.com/v1/public/yql?q=select%20*%20from%20rss%20where%20url%3D%22"+encodeURIComponent(o)+"%22%20limit%20"+t.numResults+"&format=json&callback=?";e("#"+t.behanceHook).append('<ul id="'+t.behanceHook+'-stream"></ul>'),jQuery.ajax({url:s,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.query.results.item,console.log(r),e.each(r,function(r,s){if(r<t.numResults)var o=s.link,n=e(e.parseHTML(s.description)),l=e(n).attr("src"),c='href="'+o+'"',u='<li class="feed-image-wrapper"><a '+c+' target="'+i+'"><div class="feed-image" style="background-image: url('+l+')"></div></a></li>';e("#"+t.behanceHook+"-stream",a).append(u)})},complete:function(e){}})}}}),e.fn.SIF=function(a,r){var t={};return this.each(function(){var i=e(this);t=i.data("sif"),t||(t=new SIFO(this,a,r),i.data("sif",t))}),t}}(jQuery);
