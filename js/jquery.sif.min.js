/*===================================
Name: Social Image Feed JQuery Plugin
=====================================
Description: Get an image feed from various social networks and art galleries 
=====================================
Author: DemirevDesign
=====================================
License: http://mit-license.org/
=====================================
Credit: http://goo.gl/RIQcHY
===================================*/

!function(e){SIFO=function(e,a){this.create(e,a)},e.extend(SIFO.prototype,{create:function(a,r){this.defaults={instagramID:"",instagramHook:"instagram-feed",tumblrID:"",tumblrHook:"tumblr-feed",weheartitID:"",weheartitHook:"weheartit-feed",pinterestID:"",pinterestHook:"pinterest-feed",flickrID:"",flickrHook:"flickr-feed",deviantartID:"",deviantartHook:"deviantart-feed",dribbbleID:"",dribbbleHook:"dribbble-feed",behanceID:"",behanceHook:"behance-feed",noThumb:"",newWindow:!0,numResults:8};var t=e.extend(!0,this.defaults,r);if(t.newWindow)var s="_blank";else var s="_self";if(""==!t.instagramID){var i="//api.instagram.com/v1/users/self/media/recent/?access_token="+t.instagramID;e("#"+t.instagramHook).append('<ul id="'+t.instagramHook+'-stream"></ul>'),jQuery.ajax({url:i,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.data,e.each(r,function(r,i){if(r<t.numResults){var n=i.link,o=i.images.low_resolution.url;console.log(o);var c='href="'+n+'"',l='<li class="feed-image-wrapper"><a '+c+' target="'+s+'"><div class="feed-image" style="background-image: url('+o+')"></div></a></li>'}e("#"+t.instagramHook+"-stream",a).append(l)})},complete:function(e){}})}if(""==!t.tumblrID){var n="http://"+t.tumblrID+"/rss",i="//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+t.numResults+"&callback=?&q="+encodeURIComponent(n);e("#"+t.tumblrHook).append('<ul id="'+t.tumblrHook+'-stream"></ul>'),jQuery.ajax({url:i,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.responseData.feed.entries,e.each(r,function(r,i){if(r<t.numResults){var n=i.link,o=e(e.parseHTML(i.content)),c=e(o).attr("src"),l=o[0].tagName;if("IFRAME"==l)var c=t.noThumb;if(!c){var u=e(o).find("img").length;if(u>=1)var c=e("img",o).attr("src");else var c=t.noThumb}var d='href="'+n+'"',m='<li class="feed-image-wrapper"><a '+d+' target="'+s+'"><div class="feed-image" style="background-image: url('+c+')"></div></a></li>'}e("#"+t.tumblrHook+"-stream",a).append(m)})},complete:function(){}})}if(""==!t.weheartitID){var n="http://weheartit.com/"+t.weheartitID+".rss",i="//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+t.numResults+"&callback=?&q="+encodeURIComponent(n);e("#"+t.weheartitHook).append('<ul id="'+t.weheartitHook+'-stream"></ul>'),jQuery.ajax({url:i,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.responseData.feed.entries,e.each(r,function(r,i){if(r<t.numResults){var n=i.link,o=e(e.parseHTML(i.content)),c=e(o).attr("src");c&&(c=c.replace("large","superthumb")),c||(c=t.noThumb);var l='href="'+n+'"',u='<li class="feed-image-wrapper"><a '+l+' target="'+s+'"><div class="feed-image" style="background-image: url('+c+')"></div></a></li>'}e("#"+t.weheartitHook+"-stream",a).append(u)})},complete:function(e){}})}if(""==!t.pinterestID){var n="http://www.pinterest.com/"+t.pinterestID+"/feed.rss",i="//ajax.googleapis.com/ajax/services/feed/load?v=1.0&format=xml&num="+t.numResults+"&callback=?&q="+encodeURIComponent(n);e("#"+t.pinterestHook).append('<ul id="'+t.pinterestHook+'-stream"></ul>'),jQuery.ajax({url:i,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.responseData.feed.entries,e.each(r,function(r,i){if(r<t.numResults)var n=i.link,o=e(e.parseHTML(i.content)),c=e("img",o).attr("src"),l='href="'+n+'"',u='<li class="feed-image-wrapper"><a '+l+' target="'+s+'"><div class="feed-image" style="background-image: url('+c+')"></div></a></li>';e("#"+t.pinterestHook+"-stream",a).append(u)})},complete:function(e){}})}if(""==!t.flickrID){var i="//api.flickr.com/services/feeds/photos_public.gne?id="+t.flickrID+"&format=json&jsoncallback=?";e("#"+t.flickrHook).append('<ul id="'+t.flickrHook+'-stream"></ul>'),jQuery.ajax({url:i,cache:!0,dataType:"json",error:"There is an AJAX error, revisit code.",success:function(r){r=r.items,e.each(r,function(r,i){if(r<t.numResults)var n=i.link,o=(e(e.parseHTML(i.content)),i.media.m),c='href="'+n+'"',l='<li class="feed-image-wrapper"><a '+c+' target="'+s+'"><div class="feed-image" style="background-image: url('+o+')"></div></a></li>';e("#"+t.flickrHook+"-stream",a).append(l)})},complete:function(e){}})}if(""==!t.deviantartID){var n="http://backend.deviantart.com/rss.xml?q=gallery%3A"+t.deviantartID,i="//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+t.numResults+"&callback=?&q="+encodeURIComponent(n);e("#"+t.deviantartHook).append('<ul id="'+t.deviantartHook+'-stream"></ul>'),jQuery.ajax({url:i,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.responseData.feed.entries,e.each(r,function(r,i){if(r<t.numResults){var n=i.link,o=(e(e.parseHTML(i.content)),i.mediaGroups[0].contents[0].thumbnails);if(o)var c=i.mediaGroups[0].contents[0].url;else var c=t.noThumb;var l='href="'+n+'"',u='<li class="feed-image-wrapper"><a '+l+' target="'+s+'"><div class="feed-image" style="background-image: url('+c+')"></div></a></li>'}e("#"+t.deviantartHook+"-stream",a).append(u)})},complete:function(){}})}if(""==!t.behanceID){var n="https://www.behance.net/"+t.behanceID+".xml",i="//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num="+t.numResults+"&callback=?&q="+encodeURIComponent(n);e("#"+t.behanceHook).append('<ul id="'+t.behanceHook+'-stream"></ul>'),jQuery.ajax({url:i,cache:!0,dataType:"jsonp",error:"There is an AJAX error, revisit code.",success:function(r){r=r.responseData.feed.entries,e.each(r,function(r,i){if(r<t.numResults)var n=i.link,o=e(e.parseHTML(i.content)),c=e(o).attr("src"),l='href="'+n+'"',u='<li class="feed-image-wrapper"><a '+l+' target="'+s+'"><div class="feed-image" style="background-image: url('+c+')"></div></a></li>';e("#"+t.behanceHook+"-stream",a).append(u)})},complete:function(e){}})}}}),e.fn.SIF=function(a,r){var t={};return this.each(function(){var s=e(this);t=s.data("sif"),t||(t=new SIFO(this,a,r),s.data("sif",t))}),t}}(jQuery);